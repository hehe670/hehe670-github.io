<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>MySQL语法 | 行者要习，习者要行</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style-dark.css?v=2.0.2"><link rel="stylesheet" type="text/css" href="/css/highlight-dark.css?v=2.0.2"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">MySQL语法</h1><a id="logo" href="/.">行者要习，习者要行</a><p class="description">世界总是比你的梦想大</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="https://hehe670.github.io/linux基础与软件安装/2019/02/"><i class="fa fa-archive"> 归档</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">MySQL语法</h1><div class="post-meta"><a href="/2019/02/25/mysql语法/#comments" class="comment-count"><i data-thread-key="2019/02/25/mysql语法/" class="ds-thread-count"></i>留言</a><p><span class="date">Feb 25, 2019</span><span><a href="/categories/数据库/" class="category">数据库</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>注意：SQL中大小写不敏感（大写和小写是一样的）；<br>每条SQL语句必须以分号结束。</p>
<h3 id="一-DDL-和要提供数据库和表的创建、删除和修改"><a href="#一-DDL-和要提供数据库和表的创建、删除和修改" class="headerlink" title="一. DDL - 和要提供数据库和表的创建、删除和修改"></a>一. DDL - 和要提供数据库和表的创建、删除和修改</h3><ol start="0">
<li><p>删除数据库：drop database 数据库名； </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE school;  #直接删除指定数据库</span><br><span class="line">drop database if exists school; #如果指字数据库存在就删除</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建数据库：create database 数据库名；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE school; # 直接创建指定数据库</span><br><span class="line">CREATE DATABASE if not exists school; # 如果不存在就创建</span><br><span class="line">CREATE DATABASE if not exists school default charset utf8;  # 创建数据库的时间设置字符集编码方式为utf8..支持中文</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用/切换数据库: use 数据库名；  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use school;</span><br></pre></td></tr></table></figure>
</li>
<li><p>新建表： create table 表名(字段名1 类型1，字段名2 类型2，……)；<br><code>注意：a.表名一般需要加前缀‘t’或者‘tb’.</code><br><code>b.字段用来确定表中要存储哪些数据，字段名随便命名，但不能是关键字`</code>c.数据类型必须是MySQL支持的数据类型`<br>常用数据类型：int,char(size)定长字符串size是必须这么长,varchar(size)不定长字符串size是最大值,text  字符串， bit 布尔,date 日期</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create table if not exists t_student(stuid int,stuname varchar(5),gender bit,birth date);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>create table 表名(字段名1 类型1 约束1，字段名2 类型2 约束2，……);<br><code>常用约束：not null --不能为空 ，default --设置默认值，unique -值唯一，primary key --主键约束, auto_increment - 自动增长.  
主键约束：主键指的是表中能够唯一标识一条记录的字段（通过主键值能够找到表中唯一一行记录）学生信息中的学号可以作为主键</code></p>
<p><code>注意：一个字段可以添加多个约束，约束之间用空格隔开</code><br><code>注意：auto_increment 自动增长（只针对主键有效，并且主键类型是int）</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table if not exists t_student</span><br><span class="line">(</span><br><span class="line">stuid int not null default 1 auto_increment,stuname varchar(5) not null,gender bit default 1,birth date,</span><br><span class="line">primary key(stuid)  #设置stuid为当前表的主键（间接约束这个字段的值为唯一）</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>4.删除表： drop table if exists 表名； 注意use 数据库，切换要删除的数据库<br>清空表记录：trancate table 表名;   删除后表还在，记录没有了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">drop table if exists t_student;</span><br><span class="line">truncate table t_student;</span><br></pre></td></tr></table></figure></p>
<p>5.修改表：<br>添加字段：alter table 表名 add column 字段名 字段类型 约束; 添加多个字段用逗号隔开<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table t_student add column score float(5,2) default 0; #删除字段：alter table 表名 drop column 字段名;</span><br></pre></td></tr></table></figure></p>
<h3 id="二：DML-数据操作语言-–主要针对数据库中数据的增、删、改、查。"><a href="#二：DML-数据操作语言-–主要针对数据库中数据的增、删、改、查。" class="headerlink" title="二：DML 数据操作语言 –主要针对数据库中数据的增、删、改、查。"></a>二：DML 数据操作语言 –主要针对数据库中数据的增、删、改、查。</h3><ol>
<li>增（添加数据/记录）<br>插入数据、记录： insert into 表名 values(值1，值2，……)； –依次给指定表中的字段赋值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT into t_student values (1,&apos;张三&apos;,0,&apos;2014-5-6&apos;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>插入数据/记录：insert into 表名(字段名1，字段名2，……) values(值1，值2，……)； 以指定的顺序给指定的字段赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into t_student(stuname,birth) values(&apos;小明&apos;,&apos;2011-2-21&apos;);</span><br><span class="line">insert into t_student(stuname,birth) values(&apos;小花&apos;,&apos;2011-2-22&apos;),(&apos;光光&apos;,&apos;2023-4-6&apos;);  # 一次增加多条数据，</span><br></pre></td></tr></table></figure></p>
<p><code>注意值的问题：SQL中是数字对应的值直接写，字符需要引号引起来。bit类型的值只有0或者1。。时间可以用内容是满足时间格式的字符串、也可以是通过时间函数获取的值</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">时间函数：now() --当前时间,date(now()) --获取当前日期; select month(now()) --当前月</span><br><span class="line">select now(); </span><br><span class="line">select year(now()); -- 当前年</span><br></pre></td></tr></table></figure></p>
<ol start="2">
<li>删（删除数据/记录）<br>delete from 表名;  – 删除指定表中所有记录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from t_student;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>delete from 表名 where 条件语句;  – 删除满足条件的记录<br>SQL中的条件语句：=(判断是否相等),&lt;&gt;(不相等)，&gt;,&gt;=,&lt;,&lt;=<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from t_student where stuid=100;  #删除t_student表中id等于100的记录</span><br></pre></td></tr></table></figure></p>
<ol start="3">
<li>改（修改数据）<br>update 表名 set 字段=新值，字段2=新值2，……; 将指定表中所有行的指定列/字段的值赋值为新值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE t_student set birth=&apos;1991-2-12&apos;;  #所有生日变成1991</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>update 表名 set 字段=新值，字段2=新值2，…… where 条件诗句;  将表中满足条件的行中指定字段的值赋为新值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UPDATE t_student set gender=0 where stuname=&apos;小花&apos;;  # 将名字是小花的性别变为0</span><br><span class="line">UPDATE t_student set gender=0 where stuname like &apos;小%&apos;; # 选中开头是小的名字，将性别变为0.。</span><br></pre></td></tr></table></figure></p>
<p><code>% ：通配符，表示任意个数的任意字符（包括0个）</code><br><code>_ :通配符下划线，表示一个任意字符</code><br><code>注意：通配符只对字符串有效</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE t_student set gender=1 where stuname like &apos;%小%&apos;; -- 选中姓名中有小字的</span><br></pre></td></tr></table></figure></p>
<ol start="4">
<li>查（获取数据）<br>4.1 直接查询<br>select * from 表名; –获取指定表中所有行所有列（所有数据）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from t_student;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>select 字段名1,字段名2,…… from 表名;  –获取指定表中所有行的指定列<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select stuid,stuname from t_student;</span><br></pre></td></tr></table></figure></p>
<p>select * from 表名 where 条件语句;   –获取指定表中所有满足条件行的所有数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from t_student where stuname like &apos;%小%&apos;; #所有名字包含小的</span><br></pre></td></tr></table></figure></p>
<p>4.2列重命名<br>select 字段1 as 新字段1, 字段2 as 新字段2，…… from 表名;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select stuid as &apos;学号&apos;, stuname as &apos;姓名&apos;,gender from t_student; #查询三种，只有2种重命名。。</span><br></pre></td></tr></table></figure></p>
<p><code>注意：这儿的as可以省略</code><br>4.3对查询结果重新赋值（一般针对布尔数据）<br>select if(字段相关的条件语句，值1，值2) from 表名;<br>select if(字段名，值1，值2) from 表名;  –查询指定的字段，并且判断字段对应的值，是1获取值1，结果是值1；否则为值2<br><code>注意：这儿的if用法是MySQL专有的 if(字段名，值1，值2)</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select stuname,if(gender,&apos;男&apos;,&apos;女&apos;) from t_student;</span><br><span class="line">select stuname,if(gender,&apos;男&apos;,&apos;女&apos;) as &apos;性别&apos; from t_student;  </span><br><span class="line">通用写法:case 字段 when 值 then 新值1 else 新值2 end</span><br><span class="line">select case gender when 1 then &apos;男&apos; else &apos;女&apos; end as &apos;性别&apos; from t_student;</span><br></pre></td></tr></table></figure></p>
<p>4.4对列进行合并运算<br>select concat(字段1,字段2,……) from 表名；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select concat(stuname,stuid) as &apos;name_id&apos; from t_student;</span><br><span class="line">select concat(stuname,&apos;:&apos;,stuid) as &apos;name_id&apos; from t_student;</span><br></pre></td></tr></table></figure></p>
<p><code>注意：数字和字符串数据可以合并，bit类型的数据不可以合并</code><br>4.5模糊查询 – 查询的时候通过like条件来指定查询对像<br>SQL中支持逻辑运算符and(逻辑与) 和 or(逻辑或)，not(逻辑非)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from t_student where stuname like &apos;%小%&apos; and not stuid&gt;3;</span><br></pre></td></tr></table></figure></p>
<p>4.6结果排序(先按之前的语法查询再排序)<br>select <em> from 表名 order by 字段;  –对查询结果按指定字段的值进行升序排序<br>select </em> from 表名 order by 字段 ASC; –升序排序<br>select * from 表名 order by 字段 desc;  –降序排序<br>排序的时候可以通过在order by 后面加多个字段进行联排，写在前面优先级高<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from t_student order by gender asc, stuid desc;  #先按性别进行升序排序，再按学号降序排序。</span><br></pre></td></tr></table></figure></p>
<p>4.7限制  对查询的结果进行限制<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select * from 表名 limit N;  #获取查询结果的前N条记录</span><br><span class="line">select * from t_student limit 3;  # 获取查询结果的前3条记录</span><br><span class="line">--  select * from 表名 limit M offset N;  #对查询结果跳过前N条数据，取M数据</span><br><span class="line">select * from t_student limit 4 offset 3;  #跳过前3条数据，再取4条数据</span><br></pre></td></tr></table></figure></p>
</div><div class="tags"><a href="/tags/MySQL语法/">MySQL语法</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div><div data-thread-key="2019/02/25/mysql语法/" data-title="MySQL语法" data-url="http://yoursite.com/2019/02/25/mysql语法/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到:</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div></div><div class="post-nav"><a href="/2019/02/23/mysql配置/" class="next">mysql服务器</a></div><div id="comments"><div data-thread-key="2019/02/25/mysql语法/" data-title="MySQL语法" data-url="http://yoursite.com/2019/02/25/mysql语法/" data-author-key="1" class="ds-thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#一-DDL-和要提供数据库和表的创建、删除和修改"><span class="toc-text">一. DDL - 和要提供数据库和表的创建、删除和修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二：DML-数据操作语言-–主要针对数据库中数据的增、删、改、查。"><span class="toc-text">二：DML 数据操作语言 –主要针对数据库中数据的增、删、改、查。</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/02/25/mysql语法/">MySQL语法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/23/mysql配置/">mysql服务器</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/22/Linux指令/">Linux指令系统</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/22/Hexo博客搭建/">Hexo博客搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/22/git的使用 - 版本控制/">git的使用 - 版本控制</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/22/vim编辑器之神/">vim编辑器之神</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/22/Nginx服务器安装/">Nginx服务器</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/20/hello-world/">世界总是比你的梦想大</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/hexo博客/">hexo博客</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Nginx服务器/" style="font-size: 15px;">Nginx服务器</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/git命令/" style="font-size: 15px;">git命令</a> <a href="/tags/MySQL语法/" style="font-size: 15px;">MySQL语法</a> <a href="/tags/mysql服务器/" style="font-size: 15px;">mysql服务器</a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/linux命令/" style="font-size: 15px;">linux命令</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/linux基础与软件安装/2019/02/">二月 2019</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://chaoo.oschina.io/" title="秋过冬漫长" target="_blank">秋过冬漫长</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，
本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">行者m.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.2"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.2" async></script><link rel="stylesheet" type="text/css" href="//css/share.css"><script type="text/javascript" src="//js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="//js/qrcode.js" charset="utf-8"></script><script>var duoshuoQuery = {short_name:'行者m'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    document.getElementsByTagName('body')[0].appendChild(ds);
})();
</script></body></html>